<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campus Buddy - Find Your Perfect Academic Mentor</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        /* Navigation */
        nav {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            cursor: pointer;
        }

        nav .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        nav .nav-links a {
            color: #333;
            text-decoration: none;
            font-weight: 500;
            cursor: pointer;
            transition: color 0.3s;
            border-bottom: 2px solid transparent;
        }

        nav .nav-links a:hover,
        nav .nav-links a.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Page Views */
        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Hero Section */
        .hero {
            color: white;
            text-align: center;
            padding: 4rem 2rem;
            margin-bottom: 3rem;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            font-weight: 800;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            opacity: 0.95;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Buttons */
        .btn {
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .btn-secondary {
            background: white;
            color: #667eea;
            box-shadow: 0 4px 15px rgba(255, 255, 255, 0.3);
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 255, 255, 0.5);
            background: #f8f8f8;
        }

        /* Search Section */
        .search-section {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 3rem;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
        }

        .search-section h2 {
            margin-bottom: 1.5rem;
            color: #333;
        }

        .search-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .search-controls input,
        .search-controls select {
            padding: 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .search-controls input:focus,
        .search-controls select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* Buddy Grid */
        .buddies-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .buddy-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
            cursor: pointer;
        }

        .buddy-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .buddy-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 2rem 1rem;
            text-align: center;
            color: white;
        }

        .buddy-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 2rem;
        }

        .buddy-name {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 0.3rem;
        }

        .buddy-major {
            opacity: 0.9;
            font-size: 0.95rem;
        }

        .buddy-body {
            padding: 1.5rem;
        }

        .buddy-info {
            margin-bottom: 1rem;
            font-size: 0.95rem;
        }

        .buddy-info label {
            color: #667eea;
            font-weight: 600;
            display: block;
            margin-bottom: 0.3rem;
        }

        .buddy-expertise {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .expertise-tag {
            background: #e8eaf6;
            color: #667eea;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .buddy-rating {
            color: #ffc107;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .buddy-actions {
            display: flex;
            gap: 0.5rem;
        }

        .buddy-actions .btn {
            flex: 1;
            padding: 0.6rem 1rem;
            font-size: 0.9rem;
            margin: 0;
            text-align: center;
        }

        /* Filters */
        .filter-group {
            margin-bottom: 1.5rem;
        }

        .filter-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #333;
            font-weight: 600;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.3s;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 1rem;
        }

        .modal-header h2 {
            color: #333;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
            transition: color 0.3s;
        }

        .close-btn:hover {
            color: #333;
        }

        .buddy-details {
            color: #555;
            line-height: 1.8;
        }

        .buddy-details h3 {
            color: #667eea;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
        }

        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: #666;
            font-weight: 500;
        }

        /* Footer */
        footer {
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem;
            text-align: center;
            color: #666;
            margin-top: 3rem;
            border-top: 1px solid #e0e0e0;
        }

        /* Responsive */
        @media (max-width: 768px) {
            nav .nav-links {
                gap: 1rem;
                font-size: 0.9rem;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .buddies-grid {
                grid-template-columns: 1fr;
            }

            .search-controls {
                grid-template-columns: 1fr;
            }

            .hero-buttons {
                flex-direction: column;
            }

            .hero-buttons .btn {
                width: 100%;
            }
        }

        .no-results {
            text-align: center;
            padding: 2rem;
            color: #666;
            background: white;
            border-radius: 15px;
        }

        .no-results p {
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
        }

        .tab-btn {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            padding: 1rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 8px 8px 0 0;
        }

        .tab-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .tab-btn.active {
            background: white;
            color: #667eea;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #333;
            font-weight: 600;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .expertise-input {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .expertise-input input {
            flex: 1;
            margin-bottom: 0;
        }

        .expertise-input button {
            padding: 0.8rem 1.5rem;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .expertise-input button:hover {
            background: #764ba2;
        }

        .expertise-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .expertise-item {
            background: #e8eaf6;
            color: #667eea;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .expertise-item button {
            background: none;
            border: none;
            color: #667eea;
            cursor: pointer;
            font-weight: bold;
            padding: 0;
            font-size: 1rem;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
        }

        .form-actions .btn {
            flex: 1;
        }

        .success-message {
            background: #4caf50;
            color: white;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            animation: fadeIn 0.3s;
        }

        /* Messaging Styles */
        .messages-container {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 2rem;
            height: calc(100vh - 200px);
        }

        .buddy-list {
            background: white;
            border-radius: 15px;
            padding: 1rem;
            overflow-y: auto;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .buddy-list h3 {
            color: #333;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #e0e0e0;
        }

        .buddy-item {
            padding: 1rem;
            margin-bottom: 0.5rem;
            border-radius: 10px;
            cursor: pointer;
            background: #f5f5f5;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .buddy-item:hover {
            background: #e8eaf6;
            transform: translateX(5px);
        }

        .buddy-item.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .buddy-item-avatar {
            font-size: 1.5rem;
            min-width: 40px;
        }

        .buddy-item-info {
            flex: 1;
            min-width: 0;
        }

        .buddy-item-name {
            font-weight: 600;
            font-size: 0.95rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .buddy-item-status {
            font-size: 0.8rem;
            opacity: 0.7;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .chat-window {
            background: white;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .chat-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-header-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .chat-header-avatar {
            font-size: 2rem;
        }

        .chat-header-details h3 {
            margin: 0;
            font-size: 1.1rem;
        }

        .chat-header-details p {
            margin: 0;
            font-size: 0.85rem;
            opacity: 0.9;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
            background: #f9f9f9;
        }

        .message-group {
            display: flex;
            margin-bottom: 1rem;
            gap: 0.75rem;
            animation: fadeIn 0.3s;
        }

        .message-group.own {
            justify-content: flex-end;
        }

        .message-avatar {
            font-size: 1.5rem;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #e0e0e0;
            flex-shrink: 0;
        }

        .message-content {
            max-width: 70%;
            display: flex;
            flex-direction: column;
            gap: 0.3rem;
        }

        .message-bubble {
            background: white;
            padding: 0.75rem 1rem;
            border-radius: 12px;
            word-wrap: break-word;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #667eea;
        }

        .message-group.own .message-bubble {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-left: none;
            border-right: 4px solid white;
        }

        .message-file {
            background: #f0f0f0;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .message-file:hover {
            background: #e0e0e0;
        }

        .message-meeting {
            background: #fff3cd;
            padding: 0.75rem 1rem;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            color: #856404;
        }

        .message-timestamp {
            font-size: 0.75rem;
            opacity: 0.6;
            margin-top: 0.3rem;
        }

        .message-group.own .message-timestamp {
            text-align: right;
            opacity: 0.8;
        }

        .chat-input-area {
            padding: 1.5rem;
            background: white;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 0.75rem;
        }

        .chat-input-wrapper {
            flex: 1;
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .chat-input {
            flex: 1;
            padding: 0.8rem 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 0.95rem;
            font-family: inherit;
            transition: all 0.3s;
        }

        .chat-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .chat-action-btn {
            background: none;
            border: none;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s;
            padding: 0.5rem;
            border-radius: 50%;
        }

        .chat-action-btn:hover {
            background: #f0f0f0;
            transform: scale(1.1);
        }

        .chat-send-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .chat-send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .empty-chat {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #999;
        }

        .empty-chat-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
        }

        .modal-overlay.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quick-share-modal {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
        }

        .modal-close {
            float: right;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
            background: none;
            border: none;
            padding: 0;
        }

        .modal-close:hover {
            color: #333;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .messages-container {
                grid-template-columns: 250px 1fr;
            }

            .message-content {
                max-width: 85%;
            }
        }

        @media (max-width: 768px) {
            .messages-container {
                grid-template-columns: 1fr;
                height: auto;
                gap: 1rem;
            }

            .buddy-list {
                max-height: 200px;
                order: 2;
            }

            .chat-window {
                min-height: 500px;
                order: 1;
            }

            .chat-messages {
                height: 350px;
            }

            .message-content {
                max-width: 100%;
            }

            .chat-header-details h3 {
                font-size: 0.95rem;
            }

            .chat-header-details p {
                font-size: 0.75rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="container">
            <div class="logo" onclick="navigateTo('home')">üéì Campus Buddy</div>
            <ul class="nav-links">
                <li><a href="#" onclick="navigateTo('home'); return false;" class="nav-link active">Home</a></li>
                <li><a href="#" onclick="navigateTo('discover'); return false;" class="nav-link">Find Buddies</a></li>
                <li><a href="#" onclick="openMessaging(); return false;" class="nav-link">Messages</a></li>
                <li><a href="#" onclick="navigateTo('about'); return false;" class="nav-link">About</a></li>
            </ul>
        </div>
    </nav>

    <!-- Home Page -->
    <div class="page active" id="home">
        <div class="container">
            <div style="background: white; border-radius: 15px; padding: 2rem; margin-bottom: 2rem;">
                <h1 style="color: #333; margin-bottom: 1.5rem;">Welcome to Campus Buddy</h1>
                
                <div class="tabs">
                    <button class="tab-btn active" onclick="switchTab('becomeBuddy')">Become a Buddy</button>
                    <button class="tab-btn" onclick="switchTab('findBuddies')">Find Buddies</button>
                    <button class="tab-btn" onclick="switchTab('messaging')">Messages</button>
                </div>

                <!-- Become a Buddy Tab -->
                <div class="tab-content active" id="becomeBuddy">
                    <h2 style="color: #667eea; margin-bottom: 1.5rem;">Join Our Mentor Community</h2>
                    <p style="color: #666; margin-bottom: 2rem;">Help freshers navigate their academic journey. Fill out the form below to become a buddy!</p>

                    <div id="buddyFormMessage"></div>

                    <form id="buddyForm">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
                            <div class="form-group">
                                <label>Full Name *</label>
                                <input type="text" id="formName" placeholder="Enter your full name" required>
                            </div>

                            <div class="form-group">
                                <label>Major/Field of Study *</label>
                                <select id="formMajor" required>
                                    <option value="">Select your major</option>
                                    <option value="Computer Science">Computer Science</option>
                                    <option value="Engineering">Engineering</option>
                                    <option value="Business">Business</option>
                                    <option value="Medicine">Medicine</option>
                                    <option value="Arts">Arts</option>
                                    <option value="Science">Science</option>
                                    <option value="Law">Law</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label>Year of Study *</label>
                                <select id="formYear" required>
                                    <option value="">Select your year</option>
                                    <option value="2">2nd Year</option>
                                    <option value="3">3rd Year</option>
                                    <option value="4">4th Year</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>About You *</label>
                            <textarea id="formBio" placeholder="Tell us about yourself and why you want to be a buddy..." required></textarea>
                        </div>

                        <div class="form-group">
                            <label>Areas of Expertise/Skills</label>
                            <div class="expertise-input">
                                <input type="text" id="expertiseInput" placeholder="e.g., Data Structures, Web Development...">
                                <button type="button" onclick="addExpertise()">Add</button>
                            </div>
                            <div class="expertise-list" id="expertiseList"></div>
                        </div>

                        <div class="form-group">
                            <label>Availability *</label>
                            <input type="text" id="formAvailability" placeholder="e.g., Weekdays after 2 PM, Flexible...">
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Register as Buddy</button>
                            <button type="reset" class="btn btn-secondary" onclick="resetExpertise()">Clear Form</button>
                        </div>
                    </form>
                </div>

                <!-- Find Buddies Tab -->
                <div class="tab-content" id="findBuddies">
                    <h2 style="color: #667eea; margin-bottom: 1.5rem;">Find Your Perfect Buddy</h2>
                    
                    <div class="search-controls" style="margin-bottom: 2rem;">
                        <input type="text" id="homeSearchInput" placeholder="Search by name or expertise..." onkeyup="filterHomeBuddies()">
                        <select id="homeMajorFilter" onchange="filterHomeBuddies()">
                            <option value="">All Majors</option>
                            <option value="Computer Science">Computer Science</option>
                            <option value="Engineering">Engineering</option>
                            <option value="Business">Business</option>
                            <option value="Medicine">Medicine</option>
                            <option value="Arts">Arts</option>
                            <option value="Science">Science</option>
                            <option value="Law">Law</option>
                        </select>
                    </div>

                    <div id="homeBuddiesContainer" class="buddies-grid"></div>
                </div>

                <!-- Messaging Tab -->
                <div class="tab-content" id="messaging">
                    <h2 style="color: #667eea; margin-bottom: 1.5rem;">üí¨ Messages</h2>
                    <div class="messages-container">
                        <div class="buddy-list">
                            <h3>Your Conversations</h3>
                            <div id="conversationsList"></div>
                        </div>
                        <div class="chat-window">
                            <div id="chatWindowContent"></div>
                        </div>
                    </div>
                    
                    <!-- Quick Share Modal -->
                    <div class="modal-overlay" id="quickShareModal">
                        <div class="quick-share-modal">
                            <button class="modal-close" onclick="closeQuickShare()">√ó</button>
                            <h3 style="margin-top: 0; color: #333;">Share Meeting Link</h3>
                            <div class="form-group">
                                <label>Meeting Link *</label>
                                <input type="url" id="meetingUrl" placeholder="e.g., https://zoom.us/j/123456789" required>
                            </div>
                            <div class="form-group">
                                <label>Message (Optional)</label>
                                <textarea id="meetingMessage" placeholder="Add a note about the meeting..." style="min-height: 60px;"></textarea>
                            </div>
                            <div style="display: flex; gap: 1rem;">
                                <button class="btn btn-primary" style="flex: 1; margin: 0;" onclick="sendMeetingLink()">Send Link</button>
                                <button class="btn btn-secondary" style="flex: 1; margin: 0;" onclick="closeQuickShare()">Cancel</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Discover Buddies Page -->
    <div class="page" id="discover">
        <div class="container">
            <h1 style="color: white; margin-bottom: 2rem; font-size: 2.5rem;">Find Your Campus Buddy</h1>

            <div class="search-section">
                <h2>üîç Search & Filter</h2>
                <div class="search-controls">
                    <input type="text" id="searchInput" placeholder="Search by name or expertise..." onkeyup="filterBuddies()">
                    <select id="majorFilter" onchange="filterBuddies()">
                        <option value="">All Majors</option>
                        <option value="Computer Science">Computer Science</option>
                        <option value="Engineering">Engineering</option>
                        <option value="Business">Business</option>
                        <option value="Medicine">Medicine</option>
                        <option value="Arts">Arts</option>
                    </select>
                    <select id="ratingFilter" onchange="filterBuddies()">
                        <option value="">All Ratings</option>
                        <option value="5">‚≠ê 5 Stars</option>
                        <option value="4">‚≠ê 4+ Stars</option>
                        <option value="3">‚≠ê 3+ Stars</option>
                    </select>
                </div>
            </div>

            <div id="buddiesContainer" class="buddies-grid"></div>
        </div>
    </div>

    <!-- About Page -->
    <div class="page" id="about">
        <div class="container">
            <div style="background: white; padding: 2rem; border-radius: 15px; color: #333;">
                <h1 style="color: #667eea; margin-bottom: 1.5rem;">About Campus Buddy</h1>
                <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 1rem;">
                    Campus Buddy is a platform designed to connect freshers with experienced senior students who serve as mentors and buddies throughout their academic journey.
                </p>
                <h2 style="color: #667eea; margin-top: 2rem; margin-bottom: 1rem;">Why Campus Buddy?</h2>
                <ul style="margin-left: 2rem; line-height: 1.8; font-size: 1rem;">
                    <li>üìö Get guidance on academics and course selection</li>
                    <li>üè´ Learn about campus life and traditions</li>
                    <li>üéØ Navigate university resources and opportunities</li>
                    <li>ü§ù Build meaningful mentoring relationships</li>
                    <li>üåü Access a diverse network of experienced students</li>
                </ul>
                <h2 style="color: #667eea; margin-top: 2rem; margin-bottom: 1rem;">How It Works</h2>
                <p style="font-size: 1.1rem; line-height: 1.8;">
                    Simply browse through our list of buddies, filter by major or expertise, read their profiles, and connect with someone who matches your needs. Each buddy has ratings and reviews from other freshers they've helped.
                </p>
            </div>
        </div>
    </div>

    <!-- Buddy Detail Modal -->
    <div class="modal" id="buddyModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Buddy Profile</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div id="buddyDetailsContainer" class="buddy-details"></div>
            <div style="margin-top: 2rem; display: flex; gap: 1rem;">
                <button class="btn btn-primary" style="flex: 1;" onclick="contactBuddy()">Contact Buddy</button>
                <button class="btn btn-secondary" style="flex: 1;" onclick="closeModal()">Close</button>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2026 Campus Buddy. Empowering freshers, one mentor at a time.</p>
    </footer>

    <script>
        // Initialize buddies from localStorage or use dummy data
        let allBuddies = [];
        let filteredBuddies = [];
        let currentBuddy = null;
        let currentExpertise = [];

        const dummyBuddies = [
            {
                id: 1,
                name: "Anna Binoy",
                major: "Computer Science",
                year: 3,
                rating: 5,
                reviews: 47,
                avatar: "üë®‚Äçüíº",
                expertise: ["Data Structures", "Web Development", "DSA"],
                bio: "Passionate about computer science and love helping freshers transition into college life. I've mentored over 50 students and love making their journey smoother.",
                experience: "3 years of mentoring, published 2 papers",
                availability: "Weekdays after 2 PM"
            },
            {
                id: 2,
                name: "Alan Mathew",
                major: "Engineering",
                year: 4,
                rating: 4.8,
                reviews: 52,
                avatar: "üë®‚Äçüî¨",
                expertise: ["Circuit Design", "Robotics", "CAD"],
                bio: "Engineering enthusiast with hands-on project experience. I love guiding freshers through their first projects and helping them build confidence.",
                experience: "4 years mentoring, 3 startup projects",
                availability: "Flexible scheduling"
            },
            {
                id: 3,
                name: "Helen Shiju",
                major: "Business",
                year: 2,
                rating: 4.9,
                reviews: 38,
                avatar: "üë©‚Äçüíº",
                expertise: ["Finance", "Marketing", "Leadership"],
                bio: "Business student focused on helping freshers understand curriculum and explore internship opportunities. Always available for quick chats!",
                experience: "2 years mentoring, interned at 3 companies",
                availability: "Daily, mostly evenings"
            },
            {
                id: 4,
                name: "Angel Roy",
                major: "Computer Science",
                year: 3,
                rating: 4.7,
                reviews: 41,
                avatar: "üë®‚Äçüíª",
                expertise: ["Machine Learning", "Python", "AI"],
                bio: "ML enthusiast excited to help freshers develop programming skills and explore AI. Patient teacher and very responsive to questions.",
                experience: "3 years mentoring, contributed to 2 open-source projects",
                availability: "Weekends and weekday mornings"
            },
            {
                id: 5,
                name: "Maria Wilson",
                major: "Medicine",
                year: 2,
                rating: 5,
                reviews: 29,
                avatar: "üë©‚Äç‚öïÔ∏è",
                expertise: ["Anatomy", "Biochemistry", "Study Tips"],
                bio: "Pre-med student here to help navigate the challenging coursework and provide study strategies that actually work for medical students.",
                experience: "2 years mentoring, GPA 3.95",
                availability: "Flexible"
            },
            {
                id: 6,
                name: "Neha Biju",
                major: "Arts",
                year: 4,
                rating: 4.6,
                reviews: 35,
                avatar: "üë®‚Äçüéì",
                expertise: ["Literature", "Writing", "Research"],
                bio: "Literature major passionate about helping freshers develop critical thinking and research skills. Love discussing ideas and fostering intellectual growth.",
                experience: "4 years mentoring, published 3 essays",
                availability: "Afternoons and weekends"
            },
            {
                id: 7,
                name: "Lisa Martinez",
                major: "Engineering",
                year: 3,
                rating: 4.8,
                reviews: 44,
                avatar: "üë©‚Äçüîß",
                expertise: ["Mechanical Systems", "Project Management", "Coding"],
                bio: "Mechanical engineer passionate about mentoring. I help freshers balance academics with personal growth and discover their passions.",
                experience: "3 years mentoring, team lead on 2 projects",
                availability: "Weekday evenings"
            },
            {
                id: 8,
                name: "James Wilson",
                major: "Business",
                year: 3,
                rating: 4.9,
                reviews: 48,
                avatar: "üë®‚Äçüíº",
                expertise: ["Economics", "Entrepreneurship", "Analytics"],
                bio: "Business enthusiast with startup experience. I love mentoring freshers interested in entrepreneurship and helping them explore career paths.",
                experience: "3 years mentoring, started 2 businesses",
                availability: "Flexible scheduling"
            }
        ];

        // Load buddies from localStorage
        function loadBuddies() {
            const storedBuddies = localStorage.getItem('buddies');
            if (storedBuddies) {
                allBuddies = JSON.parse(storedBuddies);
            } else {
                // Use dummy data if no stored buddies
                allBuddies = [...dummyBuddies];
            }
            filteredBuddies = [...allBuddies];
        }

        // Save buddies to localStorage
        function saveBuddies() {
            localStorage.setItem('buddies', JSON.stringify(allBuddies));
        }

        // Tab switching
        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            // Remove active class from all buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');

            // Load buddies when switching to find buddies tab
            if (tabName === 'findBuddies') {
                filterHomeBuddies();
            }
        }

        // Add expertise
        function addExpertise() {
            const input = document.getElementById('expertiseInput');
            const value = input.value.trim();

            if (value === '') {
                alert('Please enter an expertise');
                return;
            }

            if (currentExpertise.includes(value)) {
                alert('This expertise is already added');
                return;
            }

            currentExpertise.push(value);
            input.value = '';
            updateExpertiseDisplay();
        }

        // Remove expertise
        function removeExpertise(index) {
            currentExpertise.splice(index, 1);
            updateExpertiseDisplay();
        }

        // Update expertise display
        function updateExpertiseDisplay() {
            const list = document.getElementById('expertiseList');
            list.innerHTML = currentExpertise.map((exp, idx) => `
                <div class="expertise-item">
                    <span>${exp}</span>
                    <button type="button" onclick="removeExpertise(${idx})">√ó</button>
                </div>
            `).join('');
        }

        // Reset expertise
        function resetExpertise() {
            currentExpertise = [];
            updateExpertiseDisplay();
        }

        // Handle form submission
        document.getElementById('buddyForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const newBuddy = {
                id: Date.now(),
                name: document.getElementById('formName').value,
                major: document.getElementById('formMajor').value,
                year: parseInt(document.getElementById('formYear').value),
                rating: 5,
                reviews: 0,
                avatar: ['üë®‚Äçüíº', 'üë®‚Äçüî¨', 'üë©‚Äçüíº', 'üë®‚Äçüíª', 'üë©‚Äç‚öïÔ∏è', 'üë®‚Äçüéì', 'üë©‚Äçüîß'][Math.floor(Math.random() * 7)],
                expertise: [...currentExpertise],
                bio: document.getElementById('formBio').value,
                experience: "Recently joined as a mentor",
                availability: document.getElementById('formAvailability').value
            };

            allBuddies.push(newBuddy);
            saveBuddies();

            // Show success message
            const messageDiv = document.getElementById('buddyFormMessage');
            messageDiv.innerHTML = '<div class="success-message">‚úì Welcome to Campus Buddy! Your profile has been created successfully.</div>';

            // Reset form
            this.reset();
            resetExpertise();

            // Clear message after 3 seconds
            setTimeout(() => {
                messageDiv.innerHTML = '';
            }, 3000);
        });

        // Display buddies in home tab
        function displayHomeBuddies(buddyList) {
            const container = document.getElementById('homeBuddiesContainer');
            
            if (buddyList.length === 0) {
                container.innerHTML = '<div class="no-results" style="grid-column: 1/-1;"><p>No buddies found. Be the first to register!</p></div>';
                return;
            }

            container.innerHTML = buddyList.map(buddy => `
                <div class="buddy-card" onclick="openBuddyModal(${buddy.id})">
                    <div class="buddy-header">
                        <div class="buddy-avatar">${buddy.avatar}</div>
                        <div class="buddy-name">${buddy.name}</div>
                        <div class="buddy-major">${buddy.major} ‚Ä¢ Year ${buddy.year}</div>
                    </div>
                    <div class="buddy-body">
                        <div class="buddy-rating">‚≠ê ${buddy.rating.toFixed(1)} (${buddy.reviews} reviews)</div>
                        <div class="buddy-expertise">
                            ${buddy.expertise.map(exp => `<span class="expertise-tag">${exp}</span>`).join('')}
                        </div>
                        <div class="buddy-actions">
                            <button class="btn btn-primary">View Profile</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Filter buddies in home tab
        function filterHomeBuddies() {
            const searchText = document.getElementById('homeSearchInput').value.toLowerCase();
            const major = document.getElementById('homeMajorFilter').value;

            filteredBuddies = allBuddies.filter(buddy => {
                const matchesSearch = buddy.name.toLowerCase().includes(searchText) ||
                                    buddy.expertise.some(exp => exp.toLowerCase().includes(searchText));
                const matchesMajor = !major || buddy.major === major;

                return matchesSearch && matchesMajor;
            });

            displayHomeBuddies(filteredBuddies);
        }

        // Navigation
        function navigateTo(page) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(page).classList.add('active');
            
            document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
            event.target.classList.add('active');

            if (page === 'discover') {
                displayBuddies(allBuddies);
            }

            window.scrollTo(0, 0);
        }

        // Open messaging
        function openMessaging() {
            navigateTo('home');
            setTimeout(() => {
                switchTab('messaging');
            }, 100);
        }

        // Display buddies in discover page
        function displayBuddies(buddyList) {
            const container = document.getElementById('buddiesContainer');
            
            if (buddyList.length === 0) {
                container.innerHTML = '<div class="no-results" style="grid-column: 1/-1;"><p>No buddies match your criteria. Try adjusting your filters!</p></div>';
                return;
            }

            container.innerHTML = buddyList.map(buddy => `
                <div class="buddy-card" onclick="openBuddyModal(${buddy.id})">
                    <div class="buddy-header">
                        <div class="buddy-avatar">${buddy.avatar}</div>
                        <div class="buddy-name">${buddy.name}</div>
                        <div class="buddy-major">${buddy.major} ‚Ä¢ Year ${buddy.year}</div>
                    </div>
                    <div class="buddy-body">
                        <div class="buddy-rating">‚≠ê ${buddy.rating.toFixed(1)} (${buddy.reviews} reviews)</div>
                        <div class="buddy-expertise">
                            ${buddy.expertise.map(exp => `<span class="expertise-tag">${exp}</span>`).join('')}
                        </div>
                        <div class="buddy-actions">
                            <button class="btn btn-primary">View Profile</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Filter buddies in discover page
        function filterBuddies() {
            const searchText = document.getElementById('searchInput').value.toLowerCase();
            const major = document.getElementById('majorFilter').value;
            const rating = parseFloat(document.getElementById('ratingFilter').value) || 0;

            filteredBuddies = allBuddies.filter(buddy => {
                const matchesSearch = buddy.name.toLowerCase().includes(searchText) ||
                                    buddy.expertise.some(exp => exp.toLowerCase().includes(searchText));
                const matchesMajor = !major || buddy.major === major;
                const matchesRating = !rating || buddy.rating >= rating;

                return matchesSearch && matchesMajor && matchesRating;
            });

            displayBuddies(filteredBuddies);
        }

        // Open buddy modal
        function openBuddyModal(buddyId) {
            currentBuddy = allBuddies.find(b => b.id === buddyId);
            const container = document.getElementById('buddyDetailsContainer');
            
            container.innerHTML = `
                <div style="text-align: center; margin-bottom: 2rem;">
                    <div style="font-size: 4rem; margin-bottom: 1rem;">${currentBuddy.avatar}</div>
                    <h2 style="margin-bottom: 0.5rem;">${currentBuddy.name}</h2>
                    <p style="color: #667eea; font-weight: 600; margin-bottom: 1rem;">${currentBuddy.major} ‚Ä¢ Year ${currentBuddy.year}</p>
                    <div style="color: #ffc107; font-size: 1.2rem; margin-bottom: 1rem;">
                        ‚≠ê ${currentBuddy.rating.toFixed(1)} (${currentBuddy.reviews} reviews)
                    </div>
                </div>

                <h3>About</h3>
                <p>${currentBuddy.bio}</p>

                <h3>Expertise</h3>
                <div class="buddy-expertise">
                    ${currentBuddy.expertise.map(exp => `<span class="expertise-tag">${exp}</span>`).join('')}
                </div>

                <h3>Experience</h3>
                <p>${currentBuddy.experience}</p>

                <h3>Availability</h3>
                <p>${currentBuddy.availability}</p>
            `;

            document.getElementById('buddyModal').classList.add('active');
        }

        // Close modal
        function closeModal() {
            document.getElementById('buddyModal').classList.remove('active');
        }

        // Contact buddy - Open messaging
        function contactBuddy() {
            closeModal();
            switchTab('messaging');
            setTimeout(() => {
                openConversation(currentBuddy.id);
            }, 100);
        }

        // Close modal on background click
        document.getElementById('buddyModal').addEventListener('click', function(e) {
            if (e.target === this) closeModal();
        });

        // Messaging Variables
        let conversations = {};
        let selectedBuddyId = null;
        const currentUserId = 'currentUser-' + Date.now();

        // Load conversations from localStorage
        function loadConversations() {
            const stored = localStorage.getItem('conversations');
            if (stored) {
                conversations = JSON.parse(stored);
            }
        }

        // Save conversations to localStorage
        function saveConversations() {
            localStorage.setItem('conversations', JSON.stringify(conversations));
        }

        // Initialize conversation with buddy
        function initializeConversation(buddyId) {
            if (!conversations[buddyId]) {
                conversations[buddyId] = [];
                saveConversations();
            }
        }

        // Display conversations list
        function displayConversations() {
            const list = document.getElementById('conversationsList');
            
            if (allBuddies.length === 0) {
                list.innerHTML = '<p style="text-align: center; color: #999; padding: 2rem 0;">No buddies available yet</p>';
                return;
            }

            list.innerHTML = allBuddies.map(buddy => `
                <div class="buddy-item ${selectedBuddyId === buddy.id ? 'active' : ''}" onclick="openConversation(${buddy.id})">
                    <div class="buddy-item-avatar">${buddy.avatar}</div>
                    <div class="buddy-item-info">
                        <div class="buddy-item-name">${buddy.name}</div>
                        <div class="buddy-item-status">${buddy.major}</div>
                    </div>
                </div>
            `).join('');
        }

        // Open conversation with buddy
        function openConversation(buddyId) {
            selectedBuddyId = buddyId;
            const buddy = allBuddies.find(b => b.id === buddyId);
            
            initializeConversation(buddyId);
            displayConversations();
            displayChatWindow(buddy);
        }

        // Display chat window
        function displayChatWindow(buddy) {
            const content = document.getElementById('chatWindowContent');
            
            content.innerHTML = `
                <div class="chat-header">
                    <div class="chat-header-info">
                        <div class="chat-header-avatar">${buddy.avatar}</div>
                        <div class="chat-header-details">
                            <h3>${buddy.name}</h3>
                            <p>${buddy.major} ‚Ä¢ Year ${buddy.year}</p>
                        </div>
                    </div>
                </div>
                <div class="chat-messages" id="messagesArea">
                    ${renderMessages(buddy.id)}
                </div>
                <div class="chat-input-area">
                    <div class="chat-input-wrapper">
                        <input type="text" id="messageInput" class="chat-input" placeholder="Type your message..." onkeypress="if(event.key==='Enter') sendMessage(${buddy.id})">
                        <button class="chat-action-btn" title="Share File" onclick="alert('File sharing coming soon!')">üìé</button>
                        <button class="chat-action-btn" title="Share Meeting Link" onclick="openQuickShare()">üé•</button>
                    </div>
                    <button class="chat-send-btn" onclick="sendMessage(${buddy.id})">Send</button>
                </div>
            `;

            // Auto scroll to bottom
            setTimeout(() => {
                const messagesArea = document.getElementById('messagesArea');
                if (messagesArea) messagesArea.scrollTop = messagesArea.scrollHeight;
            }, 100);
        }

        // Render messages
        function renderMessages(buddyId) {
            const messages = conversations[buddyId] || [];
            
            if (messages.length === 0) {
                return `
                    <div class="empty-chat">
                        <div class="empty-chat-icon">üí¨</div>
                        <p>No messages yet. Start the conversation!</p>
                    </div>
                `;
            }

            return messages.map((msg, idx) => {
                const isOwn = msg.sender === currentUserId;
                let content = '';

                if (msg.type === 'text') {
                    content = `<div class="message-bubble">${escapeHtml(msg.text)}</div>`;
                } else if (msg.type === 'file') {
                    content = `<div class="message-file">üìé ${escapeHtml(msg.fileName)}</div>`;
                } else if (msg.type === 'meeting') {
                    content = `
                        <div class="message-meeting">
                            <strong>üìπ Meeting Link</strong><br>
                            ${msg.message ? '<p style="margin: 0.5rem 0 0 0;">' + escapeHtml(msg.message) + '</p>' : ''}
                            <a href="${escapeHtml(msg.meetingUrl)}" target="_blank" style="color: #0066cc; text-decoration: underline; word-break: break-all;">
                                ${escapeHtml(msg.meetingUrl)}
                            </a>
                        </div>
                    `;
                }

                return `
                    <div class="message-group ${isOwn ? 'own' : ''}">
                        ${!isOwn ? '<div class="message-avatar"></div>' : ''}
                        <div class="message-content">
                            ${content}
                            <div class="message-timestamp">${new Date(msg.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Send message
        function sendMessage(buddyId) {
            const input = document.getElementById('messageInput');
            const text = input.value.trim();

            if (!text) return;

            const message = {
                sender: currentUserId,
                text: text,
                type: 'text',
                timestamp: new Date().getTime()
            };

            conversations[buddyId].push(message);
            saveConversations();

            input.value = '';
            displayChatWindow(allBuddies.find(b => b.id === buddyId));
            input.focus();
        }

        // Open quick share modal
        function openQuickShare() {
            document.getElementById('quickShareModal').classList.add('active');
        }

        // Close quick share modal
        function closeQuickShare() {
            document.getElementById('quickShareModal').classList.remove('active');
            document.getElementById('meetingUrl').value = '';
            document.getElementById('meetingMessage').value = '';
        }

        // Send meeting link
        function sendMeetingLink() {
            const url = document.getElementById('meetingUrl').value.trim();
            const message = document.getElementById('meetingMessage').value.trim();

            if (!url) {
                alert('Please enter a meeting link');
                return;
            }

            if (!url.startsWith('http')) {
                alert('Please enter a valid URL');
                return;
            }

            const meetingMessage = {
                sender: currentUserId,
                meetingUrl: url,
                message: message || '',
                type: 'meeting',
                timestamp: new Date().getTime()
            };

            conversations[selectedBuddyId].push(meetingMessage);
            saveConversations();

            closeQuickShare();
            displayChatWindow(allBuddies.find(b => b.id === selectedBuddyId));
        }

        // Escape HTML to prevent XSS
        function escapeHtml(unsafe) {
            return unsafe
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        }

        // Show empty chat initially
        function showEmptyChat() {
            const content = document.getElementById('chatWindowContent');
            content.innerHTML = `
                <div class="empty-chat">
                    <div class="empty-chat-icon">üí≠</div>
                    <p>Select a buddy to start messaging</p>
                </div>
            `;
        }

        // Initialize
        loadBuddies();
        loadConversations();
        displayBuddies(allBuddies);
        displayHomeBuddies(allBuddies);
        displayConversations();
        showEmptyChat();
    </script>
</body>
</html>
